@use "../pf2e-plus-variables" as plus-var;
// Begin Styling

/* Link Coloration and Hover */
a {
  color: plus-var.$pf2e-font-active-link-blue;
  font-weight: 700;
}

.markdown-preview-view {
  .internal-link.is-unresolved {
    color: plus-var.$pf2e-font-unresolved-link;
    opacity: 1;

    &:hover {
      color: plus-var.$pf2e-font-unresolved-hover-link;
      vertical-align: baseline;
    }
  }
}

/* Removes Text Decoration Underline */
a:not(.tag),
.internal-link,
.external-link,
.cm-link,
.cm-hmd-internal-link,
.markdown-rendered {
  & .internal-link,
  & .external-link {
    text-decoration: none;
  }

  &.tag:hover,
  a:hover {
    background-color: rgba(var(--pf2e-font-active-link-blue), 0.3);
    color: var(--pf2e-font-active-link-blue);

    &.is-unresolved {
      background-color: hsla(hue(plus-var.$pf2e-font-unresolved-link), saturation(plus-var.$pf2e-font-unresolved-link), lightness(plus-var.$pf2e-font-unresolved-link), 0.3);
      border: var(--tag-border-width) solid var(--tag-border-color-hover);
      color: plus-var.$pf2e-font-unresolved-link;
    }
  }
}

.cm-s-obsidian {
  span.cm-link,
  span.cm-url,
  span.cm-formatting-link.cm-url {
    color: plus-var.$pf2e-font-unresolved-link;
    word-break: break-word;
  }

  .cm-hashtag {
    color: plus-var.$pf2e-font-unresolved-link;
  }
}


// Box Shadow Styling

:is([href="/rules/"]) {
  word-break: keep-all;
  text-align: left;
  text-indent: 0;
  padding: 2px;
  cursor: help;
}

:is([href$="#Actions"]):is(.internal-link) {
  cursor: context-menu;
  display: inline-block;
  font-size: inherit;
  height: clamp(18px, 4vw, 26px);
  text-decoration-line: none;
  vertical-align: bottom;
  width: clamp(18px, 4vw, 26px);
}

div.cm-line:has(a[href="/rules/traits/Uncommon.md"]) {
  box-shadow: 0 0 50px 50px plus-var.$box-shadow-uncommon inset !important;
  color: whitesmoke !important;
  padding: 2px;
  text-align: left;
  text-indent: 0;
}


.internal-link {
  &:is([href^="/rules/traits/"]:not([href="/rules/traits/Uncommon.md"])) {
    box-shadow: 0 0 50px 50px hsl(0, 79%, 19%) inset;
    color: whitesmoke !important;
    padding: 2px;
  }
}

//Condition Links, Makes them Green!
.internal-link {
  &:is([href*="/rules/conditions.md"]) {
    box-shadow: 0 0 50px 50px var(--box-shadow-condition) inset;
    color: whitesmoke !important;
    padding: 2px;
    text-align: left;
    text-indent: 0;
    word-break: keep-all;

    &:has(.cm-link) {
      &::after {
        content: "";

      }
    }
  }
}

// Skill Links
.internal-link {
  &:is([href*="/compendium/skills.md"]) {
    box-shadow: 0 0 50px 50px var(--box-shadow-skills) inset;
    color: midnightblue !important;
    cursor: help;
    padding: 2px;
    text-align: left;
    text-indent: 0;
    word-break: keep-all;
  }
}
